{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport data, { answers } from \"../database/data\";\nimport { getServerData } from \"../helper/helper\";\n\n/** redux actions */\nimport * as Action from '../Redux/question_reducer.js';\n\n/** fetch question hook to fetch api data and set value to store */\nexport const useFetchQestion = () => {\n  _s();\n  const dispatch = useDispatch();\n  const [getData, setGetData] = useState({\n    isLoading: false,\n    apiData: [],\n    serverError: null\n  });\n  useEffect(() => {\n    setGetData(prev => ({\n      ...prev,\n      isLoading: true\n    }));\n\n    /** async function fetch backend data */\n    (async () => {\n      try {\n        let question = await data;\n        await getServerData(`${process.env.REACT_APP_SERVER_HOSTNAME}/api/questions`);\n        if (question.length > 0) {\n          setGetData(prev => ({\n            ...prev,\n            isLoading: false\n          }));\n          setGetData(prev => ({\n            ...prev,\n            apiData: question\n          }));\n\n          /** dispatch an action */\n          dispatch(Action.startExamAction({\n            question,\n            answers\n          }));\n        } else {\n          throw new Error(\"No Question Avalibale\");\n        }\n      } catch (error) {\n        setGetData(prev => ({\n          ...prev,\n          isLoading: false\n        }));\n        setGetData(prev => ({\n          ...prev,\n          serverError: error\n        }));\n      }\n    })();\n  }, [dispatch]);\n  return [getData, setGetData];\n};\n\n/** MoveAction Dispatch function */\n_s(useFetchQestion, \"yStKDTFtlyvHsQBaBsztnzJfXDQ=\", false, function () {\n  return [useDispatch];\n});\nexport const MoveNextQuestion = () => async dispatch => {\n  try {\n    dispatch(Action.moveNextAction()); /** increase trace by 1 */\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n/** PrevAction Dispatch function */\nexport const MovePrevQuestion = () => async dispatch => {\n  try {\n    dispatch(Action.movePrevAction()); /** decrease trace by 1 */\n  } catch (error) {\n    console.log(error);\n  }\n};","map":{"version":3,"names":["useEffect","useState","useDispatch","data","answers","getServerData","Action","useFetchQestion","dispatch","getData","setGetData","isLoading","apiData","serverError","prev","question","process","env","REACT_APP_SERVER_HOSTNAME","length","startExamAction","Error","error","MoveNextQuestion","moveNextAction","console","log","MovePrevQuestion","movePrevAction"],"sources":["/home/rashka-dahir/Desktop/Quiz-WebApp/frontend-quiz-webapp/src/hook/FetchQuestion.js"],"sourcesContent":["import { useEffect, useState } from \"react\"\nimport { useDispatch } from \"react-redux\";\nimport data, { answers } from \"../database/data\";\nimport { getServerData } from \"../helper/helper\";\n\n/** redux actions */\nimport * as Action from '../Redux/question_reducer.js'\n\n/** fetch question hook to fetch api data and set value to store */\nexport const useFetchQestion = () => {\n    const dispatch = useDispatch();   \n    const [getData, setGetData] = useState({ isLoading : false, apiData : [], serverError: null});\n\n    useEffect(() => {\n        setGetData(prev => ({...prev, isLoading : true}));\n\n        /** async function fetch backend data */\n        (async () => {\n            try {\n                let question = await data;\n\n                await getServerData(`${process.env.REACT_APP_SERVER_HOSTNAME }/api/questions`)\n\n         \n                if(question.length > 0){\n                    setGetData(prev => ({...prev, isLoading : false}));\n                    setGetData(prev => ({...prev, apiData : question}));\n\n                    /** dispatch an action */\n                    dispatch(Action.startExamAction({question, answers}))\n                } else{\n                    throw new Error(\"No Question Avalibale\");\n                }\n            } catch (error) {\n                setGetData(prev => ({...prev, isLoading : false}));\n                setGetData(prev => ({...prev, serverError : error}));\n            }\n        })();\n    }, [dispatch]);\n\n    return [getData, setGetData];\n}\n\n\n/** MoveAction Dispatch function */\nexport const MoveNextQuestion = () => async (dispatch) => {\n    try {\n        dispatch(Action.moveNextAction()); /** increase trace by 1 */\n    } catch (error) {\n        console.log(error)\n    }\n}\n\n/** PrevAction Dispatch function */\nexport const MovePrevQuestion = () => async (dispatch) => {\n    try {\n        dispatch(Action.movePrevAction()); /** decrease trace by 1 */\n    } catch (error) {\n        console.log(error)\n    }\n}"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,WAAW,QAAQ,aAAa;AACzC,OAAOC,IAAI,IAAIC,OAAO,QAAQ,kBAAkB;AAChD,SAASC,aAAa,QAAQ,kBAAkB;;AAEhD;AACA,OAAO,KAAKC,MAAM,MAAM,8BAA8B;;AAEtD;AACA,OAAO,MAAMC,eAAe,GAAG,MAAM;EAAA;EACjC,MAAMC,QAAQ,GAAGN,WAAW,EAAE;EAC9B,MAAM,CAACO,OAAO,EAAEC,UAAU,CAAC,GAAGT,QAAQ,CAAC;IAAEU,SAAS,EAAG,KAAK;IAAEC,OAAO,EAAG,EAAE;IAAEC,WAAW,EAAE;EAAI,CAAC,CAAC;EAE7Fb,SAAS,CAAC,MAAM;IACZU,UAAU,CAACI,IAAI,KAAK;MAAC,GAAGA,IAAI;MAAEH,SAAS,EAAG;IAAI,CAAC,CAAC,CAAC;;IAEjD;IACA,CAAC,YAAY;MACT,IAAI;QACA,IAAII,QAAQ,GAAG,MAAMZ,IAAI;QAEzB,MAAME,aAAa,CAAE,GAAEW,OAAO,CAACC,GAAG,CAACC,yBAA2B,gBAAe,CAAC;QAG9E,IAAGH,QAAQ,CAACI,MAAM,GAAG,CAAC,EAAC;UACnBT,UAAU,CAACI,IAAI,KAAK;YAAC,GAAGA,IAAI;YAAEH,SAAS,EAAG;UAAK,CAAC,CAAC,CAAC;UAClDD,UAAU,CAACI,IAAI,KAAK;YAAC,GAAGA,IAAI;YAAEF,OAAO,EAAGG;UAAQ,CAAC,CAAC,CAAC;;UAEnD;UACAP,QAAQ,CAACF,MAAM,CAACc,eAAe,CAAC;YAACL,QAAQ;YAAEX;UAAO,CAAC,CAAC,CAAC;QACzD,CAAC,MAAK;UACF,MAAM,IAAIiB,KAAK,CAAC,uBAAuB,CAAC;QAC5C;MACJ,CAAC,CAAC,OAAOC,KAAK,EAAE;QACZZ,UAAU,CAACI,IAAI,KAAK;UAAC,GAAGA,IAAI;UAAEH,SAAS,EAAG;QAAK,CAAC,CAAC,CAAC;QAClDD,UAAU,CAACI,IAAI,KAAK;UAAC,GAAGA,IAAI;UAAED,WAAW,EAAGS;QAAK,CAAC,CAAC,CAAC;MACxD;IACJ,CAAC,GAAG;EACR,CAAC,EAAE,CAACd,QAAQ,CAAC,CAAC;EAEd,OAAO,CAACC,OAAO,EAAEC,UAAU,CAAC;AAChC,CAAC;;AAGD;AAAA,GAnCaH,eAAe;EAAA,QACPL,WAAW;AAAA;AAmChC,OAAO,MAAMqB,gBAAgB,GAAG,MAAM,MAAOf,QAAQ,IAAK;EACtD,IAAI;IACAA,QAAQ,CAACF,MAAM,CAACkB,cAAc,EAAE,CAAC,CAAC,CAAC;EACvC,CAAC,CAAC,OAAOF,KAAK,EAAE;IACZG,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;EACtB;AACJ,CAAC;;AAED;AACA,OAAO,MAAMK,gBAAgB,GAAG,MAAM,MAAOnB,QAAQ,IAAK;EACtD,IAAI;IACAA,QAAQ,CAACF,MAAM,CAACsB,cAAc,EAAE,CAAC,CAAC,CAAC;EACvC,CAAC,CAAC,OAAON,KAAK,EAAE;IACZG,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;EACtB;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}